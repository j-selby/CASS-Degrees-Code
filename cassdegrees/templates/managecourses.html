{% extends "base.html" %}

{% block page-title %}Manage Courses{% endblock %}

{% block subtitle %}{{ action }} Courses{% endblock %}

{% block content %}
    {% if render.msg != None %}
        <p class="{% if render.is_error %}msg-error{% else %}msg-success{% endif %}">{{ render.msg }}</p>
    {% endif %}
    <form class="anuform" action="/manage_courses/" method="post">
        {% csrf_token %}
        {% with required='<img src="//style.anu.edu.au/_anu/4/images/styles/asterisk.png" alt=" required">' %}
            <fieldset>
                <legend>{{ action }} Course</legend>

                <!-- As HTML forms only support get or post methods,
                add this hidden input for consistency with the rest of the forms -->
                <input type="hidden" name="_method" value="{{ method }}">

                <p>
                    <label for="id">Course Name {{ required }}</label>
                    <input class="text tfull" id="text" type="text" name="name" aria-required="true" required>
                </p>

                <p>
                    <label for="id">Course Code {{ required }}</label>
                    <input class="text tfull" id="text" type="text" name="code" minlength="8" maxlength="8" size="8" aria-required="true" required>
                </p>

                <p>
                    <label for="text">Year {{ required }}</label>
                    <input class="text tfull" id="number" type="number" name="year" min="1990" aria-required="true" required>
                </p>

                <p>
                    <label for="text">Semester(s)</label>
                    <select class="text tfull" name="semesters[]" size="2" multiple>
                        <option value="semester1">Semester 1</option>
                        <option value="semester2">Semester 2</option>
                    </select>
                </p>

                 <p>
                    <label for="text">Units {{ required }}</label>
                     <!-- max value is chosen arbitrarily -->
                    <input class="text tfull" id="number" type="number" name="units" min="0" step="6" aria-required="true" required>
                </p>

                <p>
                    <label for="text">Requisite Course(s)</label>
                    <select class="text tfull" name="requisites[]" size="5" multiple>
                        {% for course in courses %}
                            <option value="{{ course.code }}">{{ course.code }}</option>
                        {% endfor %}
                    </select>
                </p>

                <p>
                    <label for="text">Incompatible Course(s)</label>
                    <select class="text tfull" name="incompatibles[]" size="5" multiple>
                        {% for course in courses %}
                            <option value="{{ course.code }}">{{ course.code }}</option>
                        {% endfor %}
                    </select>
                </p>
            </fieldset>
        {% endwith %}

        <p class="text-right">
            <input class="btn-uni-grad btn-large" type ="submit" value="{{ action }}">
        </p>
    </form>
    <br />
{% endblock %}
